### #1 자바스크립트의 비동기 프로그래밍에 대해 설명해보세요.

자바스크립트 엔진은 싱글 스레드로 동작하나 이벤트 루프, 태스크 큐 같은 비동기 처리는 브라우저나 Node.js에서 지원한다. (브라우저나, node.js는 멀티 스레드로 동작)

비동기 방식으로 동작하는 setTimeout의 콜백 함수의 평가와 실행은 자바스크립트 엔진이 담당하나 호출 스케줄링을 위한 타이머 설정, 콜백 함수의 등록은 브라우저에서 담당한다.

![브라우저](https://user-images.githubusercontent.com/26768201/86256082-d5b35180-bbf2-11ea-847c-d8684cdb4af5.png)

![node.js 브라우저](https://user-images.githubusercontent.com/26768201/86256084-d5b35180-bbf2-11ea-911f-1abe57f51fc0.png)

위의 사진에서 확인할 수 있듯이 XMLHttpRequest, setTimeout 같은 비동기 호출 메서드는 모두 자바스크립트 엔진 밖에 정의되어 있다.

---

**아래는 예시 - setTimeoue의 동작 방식**

```jsx
function foo() {
  console.log("foo");
}

function bar() {
  console.log("bar");
}

setTimeout(foo, 0);
bar();
```

1. 전역 코드가 평가되어 전역 실행컨텍스트가 생성, 콜 스택에 푸시
2. setTimeout 함수 호출 → setTimeout의 함수 실행 컨텍스트 생성, 콜 스택에 푸시되어 현재 실행 중인 실행 컨텍스트가 됨
3. setTimeout 함수가 실행되면 콜백 함수를 호출 스케줄링하고 종료되어 스택에서 팝됨.
   (이 때, 타이머 설정, 타이머 만료 시 콜백 함수를 큐에 푸시하는게 브라우저 역할)
4. 1. 브라우저는 타이머 설정, 만료를 기다리다 시간이 다 되면 콜백 함수 foo를 태스크 큐에 푸시
5. bar 함수 호출 → bar 함수 실행 컨텍스트 생성, 콜스택에 푸시되어 현재 실행 중인 실행컨텍스트가 됨(1번과 동시 실행, foo 함수는 아직 태스크 큐에서 대기)
   이후 bar 함수 종료되어 스택에서 팝
6. 전역 코드 실행 종료 → 전역 실행 컨텍스트가 콜 스택에서 팝 : 이제 실행 컨텍스트에 아무것도 존재하지 않는 상태
7. 이벤트 루프에 의해 콜 스택 비어있음을 감지 → 이벤트 루프는 태스크 큐에 있던 foo 함수를 콜 스택에 푸시함 : foo의 함수 실행 컨텍스트 생성, 콜 스택에 푸시 되어 현재 실행 중인 실행 컨텍스트가 됨

setTimeout함수로 호출 스케줄링한 콜백 함수는 정확히 지연 시간 후 호출된다는 보장이 없다. 지연 시간 이후에 콜백 함수가 태스크 큐에 푸시되어 대기하게 되지만 콜 스택이 비어야만 호출되므로 시간차가 발생할 수 있다.

좀 더 확실하게 느낄만한 예시를 추가함

```jsx
function func1() {
  console.log("fun1");
  func2();
  return "End";
}
function func2() {
  setTimeout(function () {
    console.log("fun2");
  }, 1000);
  func3();
}
function func3() {
  console.log("fun3");
}

func1();

// fun1
// fun3
// "end"
// fun2
```

### #2 동시성과 병렬성에 대해 설명하세요

동시성(concurrency, 병행성)는 싱글 코어에서 멀티 쓰레드를 동작시키는 방식으로 멀티 태스킹을 위해 여러 개의 쓰레드를 번갈아 실행한다. 보통 자바 같은 객체 지향 언어에서 멀티 스레드를 통해 동시성을 진행한다.

병렬성(Parallelism)은 1개 이상의 스레드를 포함하는 각 코어들이 동시에 실행되는 걸 말한다. 멀티 코어에서 멀티 스레드를 동작시킨다.
